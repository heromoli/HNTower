(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b0e5579"],{"14de":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-dialog",{attrs:{title:"工作流程变更确认",visible:t.visible,fullscreen:!0,"append-to-body":!0},on:{"update:visible":function(a){t.visible=a}}},[e("el-image",{attrs:{src:t.processImgSrc}}),e("el-timeline",t._l(t.historyList,function(a){return e("el-timeline-item",{attrs:{timestamp:a.startTime,placement:"top"}},[e("el-card",[e("h4",[t._v(t._s(a.comment))]),e("p",[t._v(t._s(a.assignee)+" "+t._s(a.endTime))])])],1)}),1),e("el-container",[e("el-header",[t._v("需求变更确认")]),e("el-main",[e("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.dataFormSubmit()}}},[e("el-row",[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"需求编号",prop:"demandNum"}},[e("el-input",{attrs:{type:"text",disabled:!0},model:{value:t.dataForm.demandNum,callback:function(a){t.$set(t.dataForm,"demandNum",a)},expression:"dataForm.demandNum"}})],1)],1),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"电信企业",prop:"operatorName"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.operatorName,callback:function(a){t.$set(t.dataForm,"operatorName",a)},expression:"dataForm.operatorName"}})],1)],1),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"分公司",prop:"branchCompany"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.branchCompany,callback:function(a){t.$set(t.dataForm,"branchCompany",a)},expression:"dataForm.branchCompany"}})],1)],1),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"地市",prop:"county"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.county,callback:function(a){t.$set(t.dataForm,"county",a)},expression:"dataForm.county"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"区县",prop:"region"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.region,callback:function(a){t.$set(t.dataForm,"region",a)},expression:"dataForm.region"}})],1)],1),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"站点名称",prop:"stationName"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.stationName,callback:function(a){t.$set(t.dataForm,"stationName",a)},expression:"dataForm.stationName"}})],1)],1),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"站点编号",prop:"stationNum"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.stationNum,callback:function(a){t.$set(t.dataForm,"stationNum",a)},expression:"dataForm.stationNum"}})],1)],1),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"场景划分",prop:"scene"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.scene,callback:function(a){t.$set(t.dataForm,"scene",a)},expression:"dataForm.scene"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"经度",prop:"longitude"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.longitude,callback:function(a){t.$set(t.dataForm,"longitude",a)},expression:"dataForm.longitude"}})],1)],1),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"纬度",prop:"latitude"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.latitude,callback:function(a){t.$set(t.dataForm,"latitude",a)},expression:"dataForm.latitude"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"地址",prop:"address"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.address,callback:function(a){t.$set(t.dataForm,"address",a)},expression:"dataForm.address"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"变更原因",prop:"changeReason"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.changeReason,callback:function(a){t.$set(t.dataForm,"changeReason",a)},expression:"dataForm.changeReason"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"变更内容及解决方案","label-width":"150px",prop:"towerType"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.changeContentAndSolution,callback:function(a){t.$set(t.dataForm,"changeContentAndSolution",a)},expression:"dataForm.changeContentAndSolution"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"变更费用",prop:"roomType"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.changeCost,callback:function(a){t.$set(t.dataForm,"changeCost",a)},expression:"dataForm.changeCost"}})],1)],1),e("el-col",{attrs:{span:18}},[e("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[e("el-input",{attrs:{type:"text"},model:{value:t.dataForm.remarks,callback:function(a){t.$set(t.dataForm,"remarks",a)},expression:"dataForm.remarks"}})],1)],1)],1)],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.visible=!1}}},[t._v("关闭")]),t.isAuth("gzl:table6:update")?e("el-button",{attrs:{type:"warning"},on:{click:function(a){return t.cancelProcess()}}},[t._v("流程结束")]):t._e(),t.isAuth("gzl:table6:update")?e("el-button",{attrs:{type:"success"},on:{click:function(a){return t.dataFormSubmit()}}},[t._v("重提需求")]):t._e()],1)],1)},r=[],s={data:function(){return{visible:!1,dataForm:{changeReason:"",changeContentAndSolution:"",changeCost:"",tableId:""},historyList:[],dataRule:{},processImgSrc:"",activeNames:["1"]}},computed:{},methods:{init:function(t){this.visible=!0,this.history(t.actProcInstId),this.processImg(t.actProcInstId),this.dataFormFill(t.actProcInstId),this.dataForm.tableId=t.tableId},history:function(t){var a=this;this.$http({url:this.$http.adornUrl("/api/wf/findProcessHistoryById"),method:"get",params:this.$http.adornParams({processInstanceId:t})}).then(function(t){var e=t.data;e&&0===e.code&&(a.historyList=e.history)})},dataFormFill:function(t){var a=this;this.$http({url:this.$http.adornUrl("/api/wf/fillBNCCForm"),method:"get",params:this.$http.adornParams({processInstanceId:t})}).then(function(t){var e=t.data;e&&0===e.code?a.dataForm=e.returnData:a.$message.error(e.msg)}),this.dataForm=Object.assign({})},dataFormSubmit:function(){var t=this;this.$refs["dataForm"].validate(function(a){a&&t.$http({url:t.$http.adornUrl("/api/wf/redemand"),method:"post",data:t.$http.adornData(t.dataForm)}).then(function(a){var e=a.data;e&&0===e.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(e.msg)})})},cancelProcess:function(){var t=this;this.$refs["dataForm"].validate(function(a){a&&t.$http({url:t.$http.adornUrl("/api/wf/cancelProcess"),method:"post",data:t.$http.adornData(t.dataForm)}).then(function(a){var e=a.data;e&&0===e.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(e.msg)})})},processImg:function(t){var a=this.$http.adornUrl("/api/wf/processImg?processInstanceId="+t);this.processImgSrc=a}}},n=s,l=(e("df9d"),e("2877")),i=Object(l["a"])(n,o,r,!1,null,null,null);a["default"]=i.exports},"14ec":function(t,a,e){},df9d:function(t,a,e){"use strict";var o=e("14ec"),r=e.n(o);r.a}}]);
//# sourceMappingURL=chunk-3b0e5579.5c1750f3.js.map